#WHUST 2016 Individual Contest 3

##[A The Revenge of the Princess’ Knight ](http://acm.hust.edu.cn/vjudge/contest/121334#problem/A)

###题目大意

```
给你一个环形字符串切成k份，使字典序最大的部分字典序最小
```

###解法

```
首先吐槽一下百度上找到的这题代码都有问题_(:з」∠)_
根据CYY亲传的YY大法可以强行YY过此题
首先设n个指针指向每个字符,我们想要取出其中最小的k个
比第k小更小的那些指针显然可以直接取出,更大的显然直接舍弃,于是就变成了等于第k小的选哪些的问题
把那些指针向后推移一位,用并查集来维护这些指针的头在哪里,问题就变成了从new_n中选出new_k个指针的子问题
但是如果指针后移之后指向了已经取出的字符怎么办呢,就把它们指向一个'\0'字符的空地址
于是在选择的时候'\0'的字符字典序最小所以最优先选这些,但是如果在一个子问题中所有指针都指向了'\0'怎么办
这时候我们就要运用拓扑序的方法,把这些指针所对应的块向上一个块连边(如果上一个块已经取出或被舍弃的话就不连边)
这样我们每次取出入度为0的指针所对应的块就是最优结果(注意取出一个之后其相连的块的入度要对应减少)
但是如果连成一个环并没有入度为0的点怎么办
只需要平均分配让最长的块最小就好了
这样全部都找到之后就可以输出其中字典序最大的那个就可以了
```

##[B Civilization](http://acm.hust.edu.cn/vjudge/contest/121334#problem/B)

###题目大意

```
给你一个无环无重边的无向图,然后有q个操作分别是
1.询问某个结点所在的联通块中最长路径是多少
2.给出两个结点,如果在不同联通块中则在这两个联通块中连边使得新的联通块中最长路径最短
```

###解法

```
其实是很简单的一道题,结果无环那个条件理解错了以为只是无重边,这样日子就没法过了
对于已经给的图,只需要每个联通块求树上直径即可
而对于操作2则一定是两个联通块的最长路径的中点相连,这样也十分容易求
```

##[C Serega and Fun](http://acm.hust.edu.cn/vjudge/contest/121334#problem/C)

###题目大意

```
一个长度为n的序列有两种操作,一个是给出l,r然后把a[r]插到a[l]前面
另一个是给出l,r,k求出l到r的区间有多少个数等于k
强制在线
```

```
其实按理应该是可以splay的,但是不太好写所以就用块状链表
```
